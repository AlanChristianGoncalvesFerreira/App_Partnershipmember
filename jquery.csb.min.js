jQuery&&!function(o){o.fn.customScrollBar=function(){var s={};s.$node=o(this),s.$wrap=o('<div class="csb-wrap"></div>'),s.$track=o('<div class="csb-track"></div>'),s.$drag=o('<div class="csb-drag"></div>');var n,e,a,r,t,d=null,i=!1;s.getScrollbarWidth=function(){if(void 0===n){var s=o('<div style="position: absolute; top: -200px; width: 137px; height: 137px; overflow: visible;"></div>');o("body").append(s);var e=o('<div style="width: 100%;"></div>');s.append(e);var a=e.width();e.remove(),s.css("overflow-y","scroll"),s.append(e);var r=e.width();n=a-r,s.remove()}return n}();var c=function(){var n=0,e=o(window).width();s.$node.offset().left+s.$node.width()>e&&(n=Math.floor(s.$node.offset().left+s.$node.width()-e)+"px"),s.$track.css("right")!=n&&s.$track.css("right",n)},p=function(o){void 0===o&&(o=!1),c(),o||s.$node.append(s.$track);var n=s.$wrap.get(0).scrollHeight,d=s.$wrap.outerHeight()/n;t=Math.floor(s.$track.height()*d),e=n-s.$wrap.outerHeight(),a=s.$track.height(),r=a-t,s.$drag.height(t),o||s.$track.append(s.$drag)},l=function(){s.$drag.addClass("visible");var o=s.$wrap.get(0).scrollTop;0>=o?s.$drag.css("top",0):o>0&&s.$drag.css("top",Math.floor(o/e*r)+"px"),d&&clearTimeout(d),d=setTimeout(u,750)},u=function(){s.$drag.removeClass("visible")},$=function(o){var n=.01*a,d=parseInt(s.$drag.css("top"),10);if(d>o.offsetY)var i=d-t+n;else var i=d+t-n;0>i&&(i=0),i>r&&(i=r),s.$drag.css("top",Math.round(i)+"px"),s.$wrap.get(0).scrollTop=Math.round(i/r*e)},b=function(o){o.stopPropagation()},v=function(n){i={startX:n.pageX,startY:n.pageY,scrollTop:s.$wrap.get(0).scrollTop},o("body").unbind("mousemove.csb").on("mousemove.csb",g),o("body").unbind("mouseup.csb").on("mouseup.csb",f),n.stopPropagation(),n.preventDefault()},g=function(o){if(i!==!1){var n=o.pageY-i.startY;if(0>n&&i.scrollTop<=0||n>0&&i.scrollTop>e)return;var a=i.scrollTop,t=e/r;a+=n*t,scrollTo<0&&(scrollTo=0),scrollTo>r&&(scrollTo=r),s.$wrap.get(0).scrollTop=a}o.stopPropagation(),o.preventDefault()},f=function(s){i=!1,o("body").unbind("mousemove.csb"),o("body").unbind("mouseup.csb"),s.stopPropagation(),s.preventDefault()},h=function(){s.$wrap.unbind("scroll.csb").on("scroll.csb",l),s.$track.unbind("mouseover.csb").on("mouseover.csb",function(){s.$drag.addClass("visible")}),s.$track.unbind("mouseout.csb").on("mouseout.csb",function(){s.$drag.removeClass("visible")}),s.$track.unbind("click.csb").on("click.csb",$),s.$drag.unbind("click.csb").on("click.csb",b),s.$drag.unbind("mousedown.csb").on("mousedown.csb",v)},w=function(){if(!s.$node.length)throw"Undefined node, can't instantiate the scrollbar!";return s.$node.hasClass("csb-area")&&s.cleanNode(),s.$node.hasClass("csb-wrap")?void 0:(s.$node.addClass("csb-area"),"static"==s.$node.css("position")&&s.$node.css("position","relative"),s.$wrap.css({right:"-"+n+"px","padding-top":parseInt(s.$node.css("padding-top"),10)+"px","padding-right":parseInt(s.$node.css("padding-right"),10)+"px","padding-bottom":parseInt(s.$node.css("padding-bottom"),10)+"px","padding-left":parseInt(s.$node.css("padding-left"),10)+"px"}),s.$node.wrapInner(s.$wrap),s.$wrap=s.$node.find("> .csb-wrap"),p(),3>r?s.cleanNode():(l(),h(),s))};return s.update=function(){p(!0)},s.cleanNode=function(){s.$node.hasClass("csb-area")&&(s.$wrap.css({right:"",padding:""}),s.$node.css("position",""),s.$node.removeClass("csb-area"),s.$node.append(s.$node.find("> .csb-wrap > *")),s.$node.find(".csb-wrap").remove(),s.$node.find(".csb-track").remove())},w()}}(jQuery);